# A320 暖機程序檢查表網站規格說明

## 專案目標
建立一個互動式 A320 駕駛艙暖機程序檢查網站，包含 3D 視覺化界面和檢查清單功能。專案採用純前端技術實作，方便部署至 GitHub Pages。

## 技術規格
- 純前端實作（HTML, CSS, JavaScript）
- 使用 CDN 版本的相依套件
  - Bootstrap 5.3.0（UI 框架）
  - Three.js r128（3D 渲染引擎）
  - Three.js OrbitControls（相機控制）
  - Three.js GLTFLoader（3D 模型載入器）
  - Tween.js 18.6.4（動畫效果）

### 技術實作細節
1. 3D 渲染
   - 使用 Three.js 實現 3D 場景渲染
   - 支援模型載入（.gltf/.glb 格式）
   - 多重光源系統（環境光、定向光、點光源）
   - 陰影渲染支援
   - 自動相機控制

2. 互動系統
   - 射線追蹤（Raycaster）實現 3D 物件點擊
   - 滑鼠事件處理
   - 觸控支援（移動裝置）
   - 動態更新狀態

3. 動畫系統
   - Tween.js 實現平滑動畫
   - Three.js 動畫混合器支援
   - 自定義動畫時間軸
   - 按鈕脈動效果

## 功能需求與實作狀態

### 已完成功能
1. ✅ 3D 駕駛艙視覺化
   - 駕駛艙基本 3D 模型顯示
   - 互動式相機控制（縮放、旋轉、平移）
   - 可點擊的 3D 互動按鈕
   - 按鈕狀態視覺回饋（紅色未完成，綠色已完成）

2. ✅ 檢查表介面
   - 互動式檢查項目列表
   - 項目點擊切換完成狀態
   - 每個項目包含主要文字和詳細說明
   - 3D 按鈕與檢查表項目同步狀態

3. ✅ 進度追蹤
   - 進度條顯示整體完成進度
   - 自動計算並更新完成百分比

4. ✅ 重置功能
   - 可重新開始檢查程序
   - 清除所有已完成項目
   - 重置 3D 按鈕狀態

5. ✅ 視覺回饋
   - 已完成項目的視覺標示
   - 項目懸停效果
   - 響應式設計，適配不同螢幕大小
   - 3D 按鈕的發光效果

### 檢查項目清單
目前包含以下暖機程序檢查項目：
1. APU 啟動與電力供應檢查
2. 照明系統檢查
3. 空調系統設定
4. 液壓系統檢查
5. 燃油量檢查
6. 發動機參數檢查
7. 飛行控制系統測試
8. 導航系統設定

### 檢查項目詳細規格
每個檢查項目包含：
- ID：唯一識別碼
- 文字描述：主要檢查內容
- 詳細說明：具體檢查步驟
- 3D 位置資訊：在虛擬駕駛艙中的座標
- 完成狀態：是否已檢查
- 關聯元件：對應的駕駛艙控制項

### 3D 模型需求規格
- 格式：.gltf 或 .glb
- 優化要求：
  - 多層次細節（LOD）支援
  - 壓縮紋理
  - 優化網格
  - 合理的多邊形數量
- 互動元件要求：
  - 可獨立控制的開關和按鈕
  - 動畫支援
  - 合理的碰撞箱設定

## 待開發功能
1. [ ] 加入真實的 A320 駕駛艙 3D 模型
2. [ ] 增加按鈕懸停時的詳細資訊顯示
3. [ ] 檢查項目的完成時間記錄
4. [ ] 檢查項目的完成順序強制性
5. [ ] 匯出檢查報告功能
6. [ ] 離線支援
7. [ ] 多語言支援
8. [ ] 增加更多互動式控制元件
9. [ ] 加入聲音回饋效果

## 效能指標
1. 載入時間
   - 初始頁面載入：< 2 秒
   - 3D 模型載入：< 5 秒
   - 互動響應：< 100ms

2. 幀率要求
   - 桌面設備：穩定 60 FPS
   - 移動設備：穩定 30 FPS

3. 記憶體使用
   - 3D 場景：< 500MB
   - 整體應用：< 1GB

## 瀏覽器支援
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- 需支援 WebGL 2.0

## 開發工具建議
- 程式碼編輯器：VS Code
- 3D 模型工具：Blender
- 版本控制：Git
- 部署平台：GitHub Pages

## 開發指引
1. 命名規範
   - 檔案名稱：小寫字母，用連字符分隔
   - JavaScript 變數：camelCase
   - CSS 類名：kebab-case
   - 常量：UPPER_CASE

2. 程式碼組織
   - 模組化設計
   - 清晰的註釋
   - 合理的函數大小
   - 使用 ES6+ 特性

3. 效能優化
   - 使用 requestAnimationFrame
   - 實現物件池
   - 優化渲染循環
   - 使用 GPU 加速

## 檔案結構
```
├── index.html      # 主要 HTML 文件，包含頁面結構和 CDN 引用
├── styles.css      # 樣式表，定義 UI 外觀和 3D 容器樣式
├── script.js       # JavaScript 邏輯，包含 3D 場景和檢查表功能
└── SPEC.md        # 專案規格說明文件
```

## 部署資訊
- 目標平台：GitHub Pages
- 相容性要求：支援 WebGL 的現代網頁瀏覽器

## 開發注意事項
1. 保持純前端實作，避免後端依賴
2. 使用 CDN 版本的套件，確保部署便利性
3. 維持程式碼的可讀性和可維護性
4. 確保 3D 效能最佳化
5. 保持 UI/UX 的直覺性和易用性

## 錯誤處理
1. 3D 模型載入失敗時顯示備用介面
2. WebGL 不支援時提供提示
3. 離線狀態處理
4. 錯誤日誌記錄

## 使用者體驗指引
1. 提供清晰的操作提示
2. 實現漸進式引導
3. 支援快捷鍵操作
4. 適配不同螢幕尺寸

## 變更記錄
- 2025-06-02：初始版本建立，完成基本檢查表功能
- 2025-06-02：新增 3D 互動駕駛艙功能
- 2025-06-02：補充技術實作細節與開發指引